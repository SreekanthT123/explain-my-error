<div class="w-full h-full flex flex-col">
  <div
    class="flex justify-between items-center gap-2 px-4 py-2 bg-gray-200 rounded-t-lg"
  >
    <h2 class="font-semibold my-1">Explanation</h2>
  </div>
  <div class="p-4 border rounded-b-lg w-full h-full overflow-y-scroll">
    <div *ngIf="!isLoading && !explanation" class=" text-sm text-blue-600 bg-blue-50 p-4 rounded-lg">
      <!-- Paste an error and click <b>Explain Error</b> to see the explanation. -->
      Paste an error or stack trace on the left and click <b>Explain Error</b>.
    </div>

    <div
      *ngIf="isLoading"
      class="text-blue-600 bg-blue-50 p-4 rounded-lg flex items-center gap-2"
    >
      <svg
        class="animate-spin"
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
        fill="currentColor"
      >
        <path
          d="M479.88-100q-78.03 0-147.33-29.9-69.29-29.9-121.02-81.63-51.73-51.73-81.63-121.02-29.9-69.3-29.9-147.33 0-78.98 29.96-147.97 29.96-69 81.58-120.61 51.61-51.62 121.04-81.58T480-860q12.75 0 21.37 8.63 8.63 8.63 8.63 21.38 0 12.76-8.63 21.37Q492.75-800 480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-12.77 8.63-21.38 8.63-8.62 21.38-8.62 12.76 0 21.37 8.63Q860-492.75 860-480q0 77.99-29.96 147.42-29.96 69.43-81.58 121.04-51.61 51.62-120.61 81.58Q558.86-100 479.88-100Z"
        />
      </svg>
      Analyzing errorâ€¦
    </div>
    <div *ngIf="errorMessage" class="text-red-600">
      {{ errorMessage }}
    </div>

    <div *ngIf="!isLoading && explanation">
      <div class="bg-blue-50 p-4 rounded-lg mb-2">
        <b>In simple terms:</b> {{ explanation.meaning }}
      </div>
      <div class="bg-purple-50 p-4 rounded-lg mb-2">
        <b>Why this usually happens:</b> {{ explanation.cause }}
      </div>
      <div class="bg-pink-50 p-4 rounded-lg mb-2">
        <b>Check this first:</b> {{ explanation.check }}
      </div>
      <div *ngIf="explanation.mistake" class="bg-orange-50 p-4 rounded-lg mb-2">
        <b>Often caused by:</b> {{ explanation.mistake }}
      </div>
    </div>
  </div>
</div>
